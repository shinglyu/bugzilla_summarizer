<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Bugzilla Summery</title>
    <link rel="stylesheet" href="./style/flag_timeline.css" type="text/css" media="all" />
  </head>
  <body>
    <p>Bugzilla ID
    <input type="number" name="bzlid" id="bzlid" value="1023688" />
    <button id="submitbtn">Visualize</button>
    </p>
    <p>Refresh (F5) the page to reset the graph</p>
    <div id="svgContent"> </div>
    <script src="./bower_components/jquery/jquery.min.js"></script>
    <script src="./bower_components/jsonproxy/jsonp.js"></script>
    <script src="./bower_components/d3/d3.min.js"></script>
    <script src="./js/flag_timeline.js"></script>
    <script src="./js/parse_history_browser.js"></script>
    <script type="text/javascript" charset="utf-8">
      window.onload = function(){
        //draw('./demodata_history.json');
        //drawLocalJson('./demodata_history.json');
        //drawRemoteJson('https://bugzilla.mozilla.org/rest/bug/1023688/history');

        document.getElementById("submitbtn").onclick = function(){
          var bzlid = document.getElementById("bzlid").value;
          drawRemoteJson('https://bugzilla.mozilla.org/rest/bug/'+ bzlid + '/history');
        }
      }
    </script>
  </body>
</html>
